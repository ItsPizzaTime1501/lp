(this.webpackJsonplp=this.webpackJsonplp||[]).push([[0],{113:function(e,a,t){e.exports=t(141)},141:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(13),o=t.n(l),c=t(14),s=t(39),i=t(37),m=t(216),d=t(214),p=t(215),u=t(188),E=t(101),h=t(100),b=t.n(h),g=t(68),y=t.n(g),v=t(192),x=t(191),f=t(220),k=t(194),w=t(189),C=t(222),B=t(190),O=t(95),j=t.n(O),S=t(193),T=t(27),N=t(187),F=t(217);var L=({currentTab:e})=>n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{value:-1!==e?e:0,variant:"scrollable",textColor:"inherit",color:"inherit",indicatorColor:"secondary"},n.a.createElement(N.a,{label:"Single Player",component:s.b,to:"/single-player"}),n.a.createElement(N.a,{label:"Cooperative",component:s.b,to:"/cooperative"}),n.a.createElement(N.a,{label:"Overall",component:s.b,to:"/overall"}),n.a.createElement(N.a,{label:"Records",component:s.b,to:"/records"}),n.a.createElement(N.a,{label:"About",component:s.b,to:"/about"})));const P=Object(u.a)(e=>({root:{paddingBottom:e.spacing(14)},list:{width:e.spacing(25)},menuButton:{marginLeft:-12,marginRight:20}})),z=[{text:"Glitches",link:"glitches.html"},{text:"Least Portals",link:"lp"},{text:"Demo Parser",link:"parser.html"},{text:"Cvars",link:"cvars"}],R=e=>()=>{window.open("https://nekzor.github.io/"+e,"_self")};var _=({currentTab:e})=>{const a=n.a.useState(!1),t=Object(c.a)(a,2),r=t[0],l=t[1],o=e=>()=>{l(e)},s=P(),i=n.a.createElement("div",{className:s.list},n.a.createElement(w.a,null,n.a.createElement(C.a,{button:!0,key:0,onClick:R("index.html")},n.a.createElement(B.a,{primary:"nekzor.github.io"}))),n.a.createElement(x.a,null),n.a.createElement(w.a,null,z.map((e,a)=>n.a.createElement(C.a,{button:!0,key:a,onClick:R("".concat(e.link))},n.a.createElement(B.a,{primary:e.text})))));return n.a.createElement("div",{className:s.root},n.a.createElement(v.a,{position:"fixed"},n.a.createElement(S.a,null,n.a.createElement(k.a,{onClick:o(!0),className:s.menuButton,color:"inherit"},n.a.createElement(j.a,null)),n.a.createElement(T.a,{variant:"h6",color:"inherit"},"Least Portals")),n.a.createElement(L,{currentTab:e})),n.a.createElement(f.a,{open:r,onClose:o(!1),onOpen:o(!0)},n.a.createElement("div",{tabIndex:0,role:"button",onClick:o(!1),onKeyDown:o(!1)},i)))},D=t(79),A=t.n(D),M=t(200),I=t(206),q=t(205),W=t(199),K=t(198),U=t(81),X=t(223),Y=t(201),G=t(204),H=t(197),J=t(202),V=t(203),$=t(221),Q=t(38);const Z={records:[],cheaters:[],darkMode:new class{constructor(){this.enabled="true"===localStorage.getItem("dark_mode")}toggle(){return this.enabled=!this.enabled,localStorage.setItem("dark_mode",this.enabled.toString()),this}}},ee=[(e,{action:a,data:t})=>{switch(console.log("[DISPATCH] "+a),a){case"setRecords":return window.expose=()=>t.cheaters,Object(Q.a)({},e,{records:t.maps||[],cheaters:t.cheaters||[]});case"toggleDarkMode":return Object(Q.a)({},e,{darkMode:e.darkMode.toggle()});default:throw new Error("Unknown action type.")}},Z];var ae=n.a.createContext(Z);const te=()=>{const e=n.a.useRef(!1);return n.a.useEffect(()=>(e.current=!0,()=>e.current=!1),[]),e},re=Object(u.a)(e=>({help:{cursor:"help"},aboutBox:{padding:e.spacing(3)}})),ne=[{repo:"NeKzor/lp",branch:"master"},{repo:"NeKzBot/lp",branch:"api"},{repo:"NeKzor/lp",branch:"gh-pages"}],le={whiteSpace:"nowrap"},oe=e=>n.a.createElement(H.a,Object.assign({size:"small"},e)),ce=()=>n.a.createElement("div",{style:{paddingTop:"50px"}});var se=()=>{const e=te(),a=n.a.useContext(ae),t=a.state,r=t.cheaters,l=t.darkMode,o=a.dispatch,s=n.a.useState([]),i=Object(c.a)(s,2),m=i[0],d=i[1],p=re();n.a.useEffect(()=>{const a=a=>{console.error(a),e.current&&d(void 0)};Promise.all(ne.map(({repo:e,branch:a})=>fetch("https://api.github.com/repos/".concat(e,"/commits/").concat(a)))).then(t=>{Promise.all(t.map(e=>e.json())).then(a=>{e.current&&d(a.map(e=>({sha:e.sha,author:e.author?e.author:e.commit.author,message:e.commit.message,date:e.commit.author.date})))}).catch(a)}).catch(a)},[e]);const u=n.a.createElement($.a,{placement:"right",title:"Automatic ban system catches users who cheated at least once.",disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(K.a,{className:p.help},r.length));return n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{container:!0},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:3}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:6},n.a.createElement(U.a,{className:p.aboutBox},n.a.createElement(T.a,{component:"h2",variant:"h3"},"Who's the lp king?"),n.a.createElement("br",null),n.a.createElement(T.a,{variant:"body1"},"This leaderboard includes all legit players who care about least portal records in Portal 2."),n.a.createElement(ce,null),n.a.createElement(T.a,{component:"h2",variant:"h5"},"Ranking Requirements"),n.a.createElement("br",null),n.a.createElement(T.a,{variant:"body1"},"- Be in top 5000 on every single player or cooperative leaderboard."),n.a.createElement(T.a,{variant:"body1"},"- Tie as many records as possible or get at least very close to it."),n.a.createElement(T.a,{variant:"body1"},"- Don't be one of the ",u," cheaters."),n.a.createElement(ce,null),n.a.createElement(T.a,{variant:"h5"},"Last Update"),n.a.createElement("br",null),void 0===m?n.a.createElement(T.a,{variant:"body1"},"Unable to fetch status from GitHub."):0===m.length?n.a.createElement(M.a,{className:p.progress}):n.a.createElement("div",{style:{overflowX:"auto"}},n.a.createElement(Y.a,{size:"small"},n.a.createElement(J.a,null,n.a.createElement(V.a,null,n.a.createElement(H.a,{padding:"default"},n.a.createElement(T.a,{variant:"body1"},"Branch")),n.a.createElement(H.a,{padding:"default"},n.a.createElement(T.a,{variant:"body1"},"Date")),n.a.createElement(H.a,{padding:"default"},n.a.createElement(T.a,{variant:"body1"},"Author")),n.a.createElement(H.a,{padding:"default"},n.a.createElement(T.a,{variant:"body1"},"Commit")))),n.a.createElement(G.a,null,m.map((e,a)=>{const t=ne[a],r=t.repo,l=t.branch;return n.a.createElement(V.a,{tabIndex:-1,key:a,style:le},n.a.createElement(oe,{align:"left"},n.a.createElement(K.a,{color:"inherit",rel:"noopener",href:"https://github.com/".concat(r,"/tree/").concat(l)},l)),n.a.createElement(oe,{align:"left",style:le},n.a.createElement($.a,{title:A()(e.date).toString()},n.a.createElement("span",null,A()(e.date).from()))),n.a.createElement(oe,{align:"left"},e.author.html_url?n.a.createElement(K.a,{color:"inherit",rel:"noopener",href:e.author.html_url},e.author.login):e.author.name||"n/a"),n.a.createElement(oe,{align:"left",style:le},n.a.createElement($.a,{title:e.message},n.a.createElement(K.a,{color:"inherit",rel:"noopener",href:"https://github.com/".concat(r,"/commit/").concat(e.sha)},e.sha))))})))),n.a.createElement(ce,null),n.a.createElement(T.a,{variant:"h5"},"Theme Settings"),n.a.createElement("br",null),n.a.createElement(q.a,{row:!0},n.a.createElement(I.a,{control:n.a.createElement(X.a,{checked:l.enabled,onChange:()=>{o({action:"toggleDarkMode"})},color:"primary"}),label:"Dark Mode"})),n.a.createElement(ce,null),n.a.createElement($.a,{title:"Source Code"},n.a.createElement(K.a,{rel:"noopener",href:"https://github.com/NeKzor/lp"},"github.com/NeKzor/lp"))))))},ie=t(218),me=t(210),de=t(219),pe=t(225);var ue=(e,a,t)=>{let r=(e,a)=>a[t]<e[t]?-1:a[t]>e[t]?1:0,n="desc"===a?(e,a)=>r(e,a):(e,a)=>-r(e,a);return e.map((e,a)=>[e,a]).sort((e,a)=>{let t=n(e[0],a[0]);return 0!==t?t:e[1]-a[1]}).map(e=>e[0])},Ee=t(224),he=t(207),be=t(208),ge=t(209);const ye=Object(u.a)(e=>({card:{margin:e.spacing(2)},media:{height:190}}));var ve=({data:e})=>{const a=ye(),t=n.a.createElement(Ee.a,{alt:e.player.name,src:e.player.avatar},e.player.avatar?void 0:e.player.name[0]);return n.a.createElement(he.a,{className:a.card},n.a.createElement(be.a,{avatar:t,title:e.player.name,subheader:e.date}),n.a.createElement($.a,{title:"Watch on YouTube",onClick:(r=e.media,()=>{window.open("https://youtu.be/".concat(r),"_blank").opener=null}),style:{cursor:"pointer"},placement:"top",enterDelay:1e3,disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(ge.a,{className:a.media,image:"https://i.ytimg.com/vi/".concat(e.media.split("?")[0],"/sddefault.jpg")})));var r};const xe=[{id:"index",numeric:!1,sortable:!0,label:"Map"},{id:"wr",numeric:!0,sortable:!0,label:"Portals"},{id:"ties",numeric:!0,sortable:!0,label:"Ties"}],fe=({order:e,orderBy:a,onRequestSort:t})=>n.a.createElement(J.a,null,n.a.createElement(V.a,null,xe.map(r=>{return n.a.createElement(H.a,{key:r.id,align:r.numeric?"center":"left",padding:r.disablePadding?"none":"default",sortDirection:a===r.id&&e},!0===r.sortable&&n.a.createElement($.a,{title:"Sort",placement:r.numeric?"bottom-end":"bottom-start",enterDelay:300},n.a.createElement(pe.a,{active:a===r.id,direction:e,onClick:(l=r.id,e=>{t(e,l)})},r.label)),!1===r.sortable&&r.label);var l},void 0))),ke=Object(u.a)(e=>({root:{overflowX:"auto"},helpLink:{cursor:"help"},showcase:{backgroundColor:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50],paddingBottom:0,paddingTop:0}}));var we=({data:e})=>{const a=n.a.useState({order:"asc",orderBy:"index",page:0,rowsPerPage:100}),t=Object(c.a)(a,2),r=t[0],l=t[1],o=n.a.useState(0),s=Object(c.a)(o,2),i=s[0],m=s[1],d=ke(),p=()=>n.a.createElement($.a,{placement:"right",title:"Disabled tracking records for this map.",disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(K.a,{className:d.helpLink},"n/a")),u=r.order,E=r.orderBy;return n.a.createElement("div",{className:d.root},n.a.createElement(Y.a,null,n.a.createElement(fe,{order:u,orderBy:E,onRequestSort:(e,a)=>{const t=a;let n="desc";r.orderBy===a&&"desc"===r.order&&(n="asc"),l({order:n,orderBy:t})},rowCount:e.length}),n.a.createElement(G.a,null,ue(e,u,E).map(e=>{return n.a.createElement(n.a.Fragment,{key:e.id},n.a.createElement(V.a,{hover:!0,tabIndex:-1,onClick:(a=e.id,()=>{m(i!==a?a:0)}),style:{cursor:"pointer"}},n.a.createElement(H.a,{size:"small"},n.a.createElement(K.a,{target:"_blank",rel:"noopener",color:"inherit",href:"https://steamcommunity.com/stats/Portal2/leaderboards/".concat(e.id)},e.name)),n.a.createElement(H.a,{size:"small",align:"center"},e.wr),n.a.createElement(H.a,{size:"small",align:"center"},!0===e.excluded?n.a.createElement(p,null):e.ties)),n.a.createElement(V.a,null,n.a.createElement(H.a,{size:"small",className:d.showcase,colSpan:3,style:{border:e.id!==i?0:void 0}},n.a.createElement(me.a,{in:e.id===i,timeout:"auto",unmountOnExit:!0},n.a.createElement(W.a,{container:!0},1===e.showcases.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,{smDown:!0},n.a.createElement(W.a,{item:!0,md:2,lg:2})),n.a.createElement(W.a,{item:!0,xs:12,md:8,lg:8},n.a.createElement(ve,{data:e.showcases[0]}))),e.showcases.length>1&&e.showcases.map((e,a)=>n.a.createElement(W.a,{key:a,item:!0,xs:12,md:6,lg:6},n.a.createElement(ve,{data:e}))))))));var a}))))},Ce=t(65),Be=t.n(Ce),Oe=t(102);const je={plotOptions:{bar:{horizontal:!1,columnWidth:"100%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Portals"},max:12},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" portal"+(1===e?"":"s")}}}};var Se=({data:e,mode:a,title:t,color:r})=>{const l=e.filter(e=>e.mode===a).sort((e,a)=>e.index-a.index),o=[{name:"World Record",data:l.map(e=>e.wr)}],c=Object(Oe.a)(),s=Object(Q.a)({},je,{xaxis:{categories:l.map(e=>e.name),labels:{show:!1}},title:{text:t,align:"center",offsetY:10,style:{fontSize:24}},colors:[r],chart:{background:"dark"===c.palette.type?c.palette.grey[800]:c.palette.common.white},theme:{mode:c.palette.type}});return n.a.createElement(Be.a,{options:s,series:o,type:"bar",height:"350"})};const Te=Object(u.a)(e=>({searchBox:{padding:10,marginBottom:e.spacing(3)}}));var Ne=()=>{const e=n.a.useContext(ae).state.records,a=n.a.useState(""),t=Object(c.a)(a,2),r=t[0],l=t[1],o=Te();return n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{container:!0},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:3}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:6},n.a.createElement(U.a,{style:{paddingTop:"5px",marginBottom:"24px"}},n.a.createElement(Se,{data:e,mode:1,title:"Single Player",color:"#2E93fA"})),n.a.createElement(U.a,{style:{paddingTop:"5px",marginBottom:"24px"}},n.a.createElement(Se,{data:e,mode:2,title:"Cooperative",color:"#FF9800"})),n.a.createElement(U.a,{className:o.searchBox},n.a.createElement(q.a,null,n.a.createElement(ie.a,{placeholder:"Search",onChange:e=>{l(e.target.value)},disableUnderline:!0}))),n.a.createElement(U.a,{style:{marginBottom:"50px"}},n.a.createElement(we,{data:(e=>e.filter(e=>0===r.length||e.name.toUpperCase().startsWith(r.toUpperCase())||e.wr===parseInt(r)))(e)})))))},Fe=t(66),Le=t.n(Fe),Pe=t(212),ze=t(98),Re=t.n(ze),_e=t(211),De=t(213);const Ae=[{id:"index",numeric:!1,sortable:!0,label:"Map"},{id:"score",numeric:!0,sortable:!0,label:"Portals"},{id:"delta",numeric:!0,sortable:!0,label:"\u0394WR"}],Me=({order:e,orderBy:a,onRequestSort:t})=>n.a.createElement(J.a,null,n.a.createElement(V.a,null,Ae.map(r=>{return n.a.createElement(H.a,{key:r.id,align:(r.numeric,"center"),padding:r.disablePadding?"none":"default",sortDirection:a===r.id&&e},!0===r.sortable&&n.a.createElement($.a,{title:"Sort",placement:r.numeric?"bottom-end":"bottom-start",enterDelay:300},n.a.createElement(pe.a,{active:a===r.id,direction:e,onClick:(l=r.id,e=>{t(e,l)})},r.label)),!1===r.sortable&&r.label);var l},void 0))),Ie=Object(u.a)(()=>({root:{overflowX:"auto"}}));var qe=({data:e})=>{const a=n.a.useState({order:"asc",orderBy:"index"}),t=Object(c.a)(a,2),r=t[0],l=t[1],o=Ie(),s=r.order,i=r.orderBy,m=()=>n.a.createElement($.a,{placement:"right",title:"Unknown score.",disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(K.a,{style:{cursor:"help"}},"n/a"));return n.a.createElement("div",{className:o.root},n.a.createElement(Y.a,null,n.a.createElement(Me,{order:s,orderBy:i,onRequestSort:(e,a)=>{const t=a;let n="desc";r.orderBy===a&&"desc"===r.order&&(n="asc"),l({order:n,orderBy:t})},rowCount:e.length}),n.a.createElement(G.a,null,ue(e,s,i).map(e=>{let a=void 0!==e.score?e.showcase?n.a.createElement($.a,{placement:"right",title:"Watch on YouTube",disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(K.a,{target:"_blank",rel:"noopener",href:"https://youtu.be/".concat(e.showcase.media)},n.a.createElement("b",null,e.score))):e.score:n.a.createElement(m,null),t=void 0!==e.score?0===e.delta?"":"+".concat(e.delta):n.a.createElement(m,null);return n.a.createElement(V.a,{hover:!0,tabIndex:-1,key:e._id},n.a.createElement(H.a,{size:"small",align:"center"},n.a.createElement(K.a,{target:"_blank",rel:"noopener",color:"inherit",href:"https://steamcommunity.com/stats/Portal2/leaderboards/".concat(e._id)},e.name)),n.a.createElement(H.a,{size:"small",align:"center"},a),n.a.createElement(H.a,{size:"small",align:"center"},t))}))))},We=t(195);const Ke={plotOptions:{bar:{horizontal:!1,columnWidth:"100%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Portals"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" portal"+(1===e?"":"s")}}}};var Ue=({data:e,mode:a,title:t,color:r})=>{const l=e.filter(e=>e.mode===a).sort((e,a)=>e.index-a.index),o=Math.max(1,...l.map(e=>e.score)),c=[{name:"WR Delta",data:l.map(e=>e.delta)}],s=Object(Oe.a)(),i=Object(Q.a)({},Ke,{xaxis:{categories:l.map(e=>e.name),labels:{show:!1}},yaxis:Object(Q.a)({},Ke.yaxis,{max:o+o%2,tickAmount:(o+o%2)/2}),title:{text:t,align:"center",offsetY:10,style:{fontSize:24}},colors:[r],chart:{background:"dark"===s.palette.type?s.palette.grey[800]:s.palette.common.white},theme:{mode:s.palette.type}});return n.a.createElement(Be.a,{options:i,series:c,type:"bar",height:"350"})};const Xe=Object(u.a)(e=>({stats:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3),background:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50]},records:{paddingTop:e.spacing(3),background:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50]},flex:{flex:1},paper:{padding:e.spacing(5),textAlign:"center"}})),Ye=n.a.forwardRef((e,a)=>n.a.createElement(We.a,Object.assign({direction:"up"},e,{ref:a}))),Ge=({title:e,type:a,data:t})=>{const r=t[a],l=t[a+"Old"],o=t.stats[a].delta,c=t.stats[a].percentage;return n.a.createElement(n.a.Fragment,null,n.a.createElement($.a,{placement:"top",title:0===r?"":n.a.createElement("div",null,"".concat(r-o,"+").concat(o),r!==l&&n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),l+" \ud83e\udc0a "+r)),disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(T.a,{variant:"h3",gutterBottom:!0},0!==c?c:0,"%")),n.a.createElement(T.a,{variant:"subtitle1",gutterBottom:!0},e))};var He=({active:e,profile:a,handleClickClose:t})=>{const r=Xe();return n.a.createElement(n.a.Fragment,null,n.a.createElement(_e.a,{fullScreen:!0,open:e,onClose:t,TransitionComponent:Ye},n.a.createElement(v.a,{position:"sticky"},n.a.createElement(S.a,null,n.a.createElement($.a,{placement:"bottom",title:"Open Steam profile",disableFocusListener:!0,disableTouchListener:!0},a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Pe.a,{color:"inherit",onClick:()=>{return e=a._id,void(window.open("https://steamcommunity.com/profiles/".concat(e),"_blank").opener=null);var e}},n.a.createElement(Ee.a,{src:a.avatar})),n.a.createElement(T.a,{variant:"h6",color:"inherit",className:r.flex},"\xa0\xa0\xa0",a.name,a.country&&n.a.createElement(n.a.Fragment,null,"\xa0\xa0\xa0",n.a.createElement(Le.a,{code:a.country,style:{position:"relative",top:"2px"},height:"15",alt:a.country})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(De.a,{variant:"circle",width:40,height:40}),n.a.createElement(De.a,{style:{marginLeft:"10px"},variant:"text",width:200}),n.a.createElement(T.a,{className:r.flex}))),n.a.createElement($.a,{placement:"bottom",title:"Close profile",disableFocusListener:!0,disableTouchListener:!0},n.a.createElement(k.a,{color:"inherit",onClick:t},n.a.createElement(Re.a,null))))),a?n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{container:!0,className:r.stats},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:3}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:6},0!==a.entries.length&&n.a.createElement(W.a,{container:!0,spacing:10},n.a.createElement(W.a,{item:!0,xs:12,md:4,lg:4},n.a.createElement(U.a,{className:r.paper},n.a.createElement(Ge,{title:"Single Player",type:"sp",data:a}))),n.a.createElement(W.a,{item:!0,xs:12,md:4,lg:4},n.a.createElement(U.a,{className:r.paper},n.a.createElement(Ge,{title:"Cooperative",type:"mp",data:a}))),n.a.createElement(W.a,{item:!0,xs:12,md:4,lg:4},n.a.createElement(U.a,{className:r.paper},n.a.createElement(Ge,{title:"Overall",type:"overall",data:a})))))),n.a.createElement(W.a,{container:!0,className:r.records},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:3}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:6},n.a.createElement(U.a,{style:{marginBottom:"50px"}},n.a.createElement(qe,{data:a.entries})),n.a.createElement(U.a,{style:{paddingTop:"10px",marginBottom:"50px"}},n.a.createElement(Ue,{data:a.entries,mode:1,title:"Single Player",color:"#2E93fA"})),n.a.createElement(U.a,{style:{paddingTop:"10px",marginBottom:"50px"}},n.a.createElement(Ue,{data:a.entries,mode:2,title:"Cooperative",color:"#FF9800"}))))):void 0===a?n.a.createElement(d.a,null):n.a.createElement(W.a,{style:{height:"100%"},container:!0,className:r.records},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:2}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:9},n.a.createElement(U.a,null,n.a.createElement(T.a,{variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},"Profile not found :("))))))},Je=t(56),Ve=t(67),$e=t(99);Je.b.add($e.a);const Qe=[{id:"rank",numeric:!0,sortable:!1,label:"Rank"},{id:"name",numeric:!1,sortable:!1,label:"Player"},{id:"score",numeric:!0,sortable:!0,label:"Portals"}],Ze=({order:e,orderBy:a,onRequestSort:t})=>n.a.createElement(J.a,null,n.a.createElement(V.a,null,Qe.map(r=>{return n.a.createElement(H.a,{key:r.id,align:r.numeric?"center":"left",sortDirection:a===r.id&&e},!0===r.sortable&&n.a.createElement($.a,{title:"Sort",placement:r.numeric?"bottom-end":"bottom-start",enterDelay:300},n.a.createElement(pe.a,{active:a===r.id,direction:e,onClick:(l=r.id,e=>{t(e,l)})},r.label)),!1===r.sortable&&r.label);var l}))),ea=Object(u.a)(()=>({root:{overflowX:"auto"},playerCell:{display:"flex",alignItems:"center"},clickLink:{cursor:"pointer"}}));var aa=({data:e,handleClickOpen:a})=>{const t=n.a.useState({order:"asc",orderBy:"score"}),r=Object(c.a)(t,2),l=r[0],o=r[1],s=ea(),i=l.order,m=l.orderBy;return n.a.createElement("div",{className:s.root},n.a.createElement(Y.a,null,n.a.createElement(Ze,{order:i,orderBy:m,onRequestSort:(e,a)=>{const t=a;let r="desc";l.orderBy===a&&"desc"===l.order&&(r="asc"),o({order:r,orderBy:t})},rowCount:e.length}),n.a.createElement(G.a,null,ue(e,i,m).map(e=>n.a.createElement(V.a,{hover:!0,tabIndex:-1,key:e._id},n.a.createElement(H.a,{size:"small",align:"center"},1===e.rank?n.a.createElement(Ve.a,{title:"Rank 1",icon:"medal",color:"#ffd700"}):2===e.rank?n.a.createElement(Ve.a,{title:"Rank 2",icon:"medal",color:"#C0C0C0"}):3===e.rank?n.a.createElement(Ve.a,{title:"Rank 3",icon:"medal",color:"#cd7f32"}):e.rank),n.a.createElement(H.a,{size:"small"},n.a.createElement("div",{className:s.playerCell},n.a.createElement(Ee.a,{src:e.avatar}),"\xa0\xa0\xa0\xa0\xa0\xa0",n.a.createElement(K.a,{className:s.clickLink,onClick:a(e._id),color:"inherit"},e.name),e.country&&n.a.createElement(n.a.Fragment,null,"\xa0\xa0\xa0",n.a.createElement(Le.a,{code:e.country,height:"12",alt:e.country})))),n.a.createElement(H.a,{size:"small",align:"center"},n.a.createElement($.a,{placement:"top",title:n.a.createElement("div",null,"".concat(e.stats.percentage,"% (").concat(e.score-e.stats.delta,"+").concat(e.stats.delta,")"),e.scoreOld!==e.score&&n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),e.scoreOld+" \ud83e\udc0a "+e.score)),disableFocusListener:!0,disableTouchListener:!0},n.a.createElement("div",null,e.score))))))))},ta=t(31),ra=t.n(ta),na=t(57);var la=new class{constructor(){this.baseApi="https://raw.githubusercontent.com/NeKzBot/lp/api"}request(e){return Object(na.a)(ra.a.mark((function a(){var t;return ra.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,console.log("[GET] ".concat(e," (").concat(t.status,")")),a.abrupt("return",t);case 5:case"end":return a.stop()}}),a)})))()}getRecords(){var e=this;return Object(na.a)(ra.a.mark((function a(){var t;return ra.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.request("".concat(e.baseApi,"/records.json"));case 2:if(!(t=a.sent).ok){a.next=9;break}return a.next=6,t.json();case 6:a.t0=a.sent.data,a.next=10;break;case 9:a.t0={};case 10:return a.abrupt("return",a.t0);case 11:case"end":return a.stop()}}),a)})))()}getBoard(e){var a=this;return Object(na.a)(ra.a.mark((function t(){var r;return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("sp"===e||"mp"===e||"overall"===e){t.next=2;break}throw new Error("Invalid board!");case 2:return t.next=4,a.request("".concat(a.baseApi,"/").concat(e,".json"));case 4:if(!(r=t.sent).ok){t.next=11;break}return t.next=8,r.json();case 8:t.t0=t.sent.data,t.next=12;break;case 11:t.t0={};case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t)})))()}getProfile(e){var a=this;return Object(na.a)(ra.a.mark((function t(){var r;return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.request("".concat(a.baseApi,"/profile/").concat(e,".json"));case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:t.t0=t.sent.data,t.next=10;break;case 9:t.t0=null;case 10:return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t)})))()}};var oa=({boardType:e,profileId:a})=>{const t=te(),r=n.a.useState([]),l=Object(c.a)(r,2),o=l[0],s=l[1],i=n.a.useState(void 0),m=Object(c.a)(i,2),p=m[0],u=m[1],E=n.a.useState(!1),h=Object(c.a)(E,2),b=h[0],g=h[1],y=n.a.useContext(ae).state.records,v=n.a.useCallback(e=>{if(e){e.entries.forEach(a=>{let t=y.find(e=>e.id===a._id);a.name=t.name,a.index=t.index,a.delta=Math.abs(t.wr-a.score),a.showcase=t.showcases.find(a=>a.player.id===e._id||a.player2&&a.player2.id===e._id)});let a=[];y.forEach(t=>{e.entries.find(e=>e._id===t.id)||a.push({_id:t.id,name:t.name,index:t.index})}),e.entries.push(...a)}return e},[y]);n.a.useEffect(()=>{void 0===p&&a?(g(!0),la.getProfile(a).then(e=>t.current&&u(v(e))).catch(e=>console.error(e))):0===o.length&&la.getBoard(e).then(e=>t.current&&s(e)).catch(e=>console.error(e))},[o.length,e,t,v,p,a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(W.a,{container:!0},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:3}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:6},n.a.createElement(U.a,{style:{marginBottom:"50px"}},0===o.length&&n.a.createElement(d.a,null),n.a.createElement(aa,{data:o,handleClickOpen:e=>()=>{g(!0),u(void 0),la.getProfile(e).then(e=>t.current&&u(v(e))).catch(e=>console.error(e))}})))),n.a.createElement(He,{active:b,profile:p,handleClickClose:()=>{g(!1),0===o.length&&la.getBoard(e).then(e=>t.current&&s(e)).catch(e=>console.error(e))}}))};var ca=()=>n.a.createElement(W.a,{container:!0},n.a.createElement(W.a,{item:!0,xs:!1,md:1,lg:2}),n.a.createElement(W.a,{item:!0,xs:12,md:10,lg:9},n.a.createElement(U.a,null,n.a.createElement(T.a,{variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},"Page not found :("))));const sa=Object(u.a)(e=>({views:{marginTop:e.spacing(3)}}));var ia=()=>{const e=n.a.useReducer(...ee),a=Object(c.a)(e,2),t=a[0],r=a[1];n.a.useEffect(()=>{la.getRecords().then(e=>r({action:"setRecords",data:e})).catch(e=>console.error(e))},[]);const l=n.a.useMemo(()=>Object(E.a)({palette:{primary:{light:y.a[300],main:y.a[500],dark:y.a[700]},secondary:{light:"#fff",main:"#fff",dark:"#fff"},error:{main:b.a.A400},type:t.darkMode.enabled?"dark":"light"},typography:{useNextVariants:!0}}),[t.darkMode.enabled]),o=sa(),u=n.a.useMemo(()=>({state:t,dispatch:r}),[t,r]),h=["/single-player","/cooperative","/overall","/records","/about"];return n.a.createElement(p.a,{theme:l},n.a.createElement(m.a,null),n.a.createElement(ae.Provider,{value:u},n.a.createElement(s.a,{basename:"/lp"},n.a.createElement(i.b,{path:"/",render:({location:{pathname:e}})=>n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{currentTab:h.findIndex(a=>a===e)}),0!==t.records.length?n.a.createElement("div",{className:o.views},n.a.createElement(i.d,null,n.a.createElement(i.a,{exact:!0,from:"/",to:"/single-player"}),n.a.createElement(i.a,{exact:!0,from:"/sp",to:"/single-player"}),n.a.createElement(i.a,{exact:!0,from:"/mp",to:"/cooperative"}),n.a.createElement(i.a,{exact:!0,from:"/coop",to:"/cooperative"}),n.a.createElement(i.a,{exact:!0,from:"/ov",to:"/overall"}),n.a.createElement(i.a,{exact:!0,from:"/wrs",to:"/records"}),n.a.createElement(i.b,{exact:!0,path:"/single-player",component:()=>n.a.createElement(oa,{boardType:"sp"})}),n.a.createElement(i.b,{exact:!0,path:"/cooperative",component:()=>n.a.createElement(oa,{boardType:"mp"})}),n.a.createElement(i.b,{exact:!0,path:"/overall",component:()=>n.a.createElement(oa,{boardType:"overall"})}),n.a.createElement(i.b,{exact:!0,path:"/records",component:Ne}),n.a.createElement(i.b,{exact:!0,path:"/about",component:se}),n.a.createElement(i.b,{exact:!0,from:"/@/:id",component:({match:{params:e}})=>n.a.createElement(oa,{boardType:"sp",profileId:e.id})}),n.a.createElement(i.b,{component:ca}))):n.a.createElement(d.a,null))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(ia,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.f2cd6e9b.chunk.js.map