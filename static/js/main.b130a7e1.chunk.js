(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(136)},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),c=a(65),i=a(14),s=a(38),m=a(36),u=a(208),d=a(206),p=a(207),E=a(95),f=a(101),h=a(100),b=a.n(h),g=a(67),y=a.n(g),v=a(184),x=a(183),k=a(212),w=a(186),O=a(181),C=a(215),j=a(182),B=a(96),S=a.n(B),T=a(185),N=a(25),F=a(180),L=a(209),P=function(e){var t=e.currentTab;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{value:-1!==t?t:0,variant:"scrollable",textColor:"inherit",color:"inherit",indicatorColor:"secondary"},r.a.createElement(F.a,{label:"Single Player",component:s.b,to:"/single-player"}),r.a.createElement(F.a,{label:"Cooperative",component:s.b,to:"/cooperative"}),r.a.createElement(F.a,{label:"Overall",component:s.b,to:"/overall"}),r.a.createElement(F.a,{label:"Records",component:s.b,to:"/records"}),r.a.createElement(F.a,{label:"About",component:s.b,to:"/about"})))},z=Object(E.a)(function(e){return{root:{paddingBottom:e.spacing(14)},list:{width:e.spacing(25)},menuButton:{marginLeft:-12,marginRight:20}}}),R=[{text:"Glitches",link:"glitches.html"},{text:"Least Portals",link:"lp"},{text:"Demo Parser",link:"parser.html"},{text:"Cvars",link:"cvars"}],_=function(e){return function(){window.open("https://nekzor.github.io/"+e,"_self")}},D=function(e){var t=e.currentTab,a=r.a.useState(!1),n=Object(i.a)(a,2),l=n[0],o=n[1],c=function(e){return function(){o(e)}},s=z(),m=r.a.createElement("div",{className:s.list},r.a.createElement(O.a,null,r.a.createElement(C.a,{button:!0,key:0,onClick:_("index.html")},r.a.createElement(j.a,{primary:"nekzor.github.io"}))),r.a.createElement(x.a,null),r.a.createElement(O.a,null,R.map(function(e,t){return r.a.createElement(C.a,{button:!0,key:t,onClick:_("".concat(e.link))},r.a.createElement(j.a,{primary:e.text}))})));return r.a.createElement("div",{className:s.root},r.a.createElement(v.a,{position:"fixed"},r.a.createElement(T.a,null,r.a.createElement(w.a,{onClick:c(!0),className:s.menuButton,color:"inherit"},r.a.createElement(S.a,null)),r.a.createElement(N.a,{variant:"h6",color:"inherit"},"Least Portals")),r.a.createElement(P,{currentTab:t})),r.a.createElement(k.a,{open:l,onClose:c(!1),onOpen:c(!0)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:c(!1),onKeyDown:c(!1)},m)))},A=a(80),M=a.n(A),I=a(192),q=a(198),W=a(197),K=a(191),U=a(190),X=a(82),Y=a(216),G=a(193),H=a(196),J=a(189),V=a(194),$=a(195),Q=a(213),Z=a(37),ee=a(60),te=a(61),ae={records:[],cheaters:[],darkMode:new(function(){function e(){Object(ee.a)(this,e),this.enabled="true"===localStorage.getItem("dark_mode")}return Object(te.a)(e,[{key:"toggle",value:function(){return this.enabled=!this.enabled,localStorage.setItem("dark_mode",this.enabled.toString()),this}}]),e}())},ne=[function(e,t){var a=t.action,n=t.data;switch(console.log("[DISPATCH] "+a),a){case"setRecords":return window.expose=function(){return n.cheaters},Object(Z.a)({},e,{records:n.maps||[],cheaters:n.cheaters||[]});case"toggleDarkMode":return Object(Z.a)({},e,{darkMode:e.darkMode.toggle()});default:throw new Error("Unknown action type.")}},ae],re=r.a.createContext(ae),le=function(){var e=r.a.useRef(!1);return r.a.useEffect(function(){return e.current=!0,function(){return e.current=!1}},[]),e},oe=Object(E.a)(function(e){return{help:{cursor:"help"},aboutBox:{padding:e.spacing(3)}}}),ce=["master","api","gh-pages"],ie={whiteSpace:"nowrap"},se=function(e){return r.a.createElement(J.a,Object.assign({size:"small"},e))},me=function(){return r.a.createElement("div",{style:{paddingTop:"50px"}})},ue=function(){var e=le(),t=r.a.useContext(re),a=t.state,n=a.cheaters,l=a.darkMode,o=t.dispatch,c=r.a.useState([]),s=Object(i.a)(c,2),m=s[0],u=s[1],d=oe();r.a.useEffect(function(){var t=function(t){console.error(t),e.current&&u(void 0)};Promise.all(ce.map(function(e){return fetch("https://api.github.com/repos/NeKzor/lp/commits/"+e)})).then(function(a){Promise.all(a.map(function(e){return e.json()})).then(function(t){e.current&&u(t.map(function(e){return{sha:e.sha,author:e.author,message:e.commit.message,date:e.commit.author.date}}))}).catch(t)}).catch(t)},[e]);var p=r.a.createElement(Q.a,{placement:"right",title:"Automatic ban system catches users who cheated at least once.",disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(U.a,{className:d.help},n.length));return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:3}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:6},r.a.createElement(X.a,{className:d.aboutBox},r.a.createElement(N.a,{component:"h2",variant:"h3"},"Who's the lp king?"),r.a.createElement("br",null),r.a.createElement(N.a,{variant:"body1"},"This leaderboard includes all legit players who care about least portal records in Portal 2."),r.a.createElement(me,null),r.a.createElement(N.a,{component:"h2",variant:"h5"},"Ranking Requirements"),r.a.createElement("br",null),r.a.createElement(N.a,{variant:"body1"},"- Be in top 5000 on every single player or cooperative leaderboard."),r.a.createElement(N.a,{variant:"body1"},"- Tie as many records as possible or get at least very close to it."),r.a.createElement(N.a,{variant:"body1"},"- Don't be one of the ",p," cheaters."),r.a.createElement(me,null),r.a.createElement(N.a,{variant:"h5"},"Last Update"),r.a.createElement("br",null),void 0===m?r.a.createElement(N.a,{variant:"body1"},"Unable to fetch status from GitHub."):0===m.length?r.a.createElement(I.a,{className:d.progress}):r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(G.a,{size:"small"},r.a.createElement(V.a,null,r.a.createElement($.a,null,r.a.createElement(J.a,{padding:"default"},r.a.createElement(N.a,{variant:"body1"},"Branch")),r.a.createElement(J.a,{padding:"default"},r.a.createElement(N.a,{variant:"body1"},"Date")),r.a.createElement(J.a,{padding:"default"},r.a.createElement(N.a,{variant:"body1"},"Author")),r.a.createElement(J.a,{padding:"default"},r.a.createElement(N.a,{variant:"body1"},"Commit")))),r.a.createElement(H.a,null,m.map(function(e,t){var a=ce[t];return r.a.createElement($.a,{tabIndex:-1,key:t,style:ie},r.a.createElement(se,{align:"left"},r.a.createElement(U.a,{color:"inherit",rel:"noopener",href:"https://github.com/NeKzor/lp/tree/"+a},a)),r.a.createElement(se,{align:"left",style:ie},r.a.createElement(Q.a,{title:M()(e.date).toString()},r.a.createElement("span",null,M()(e.date).from()))),r.a.createElement(se,{align:"left"},e.author?r.a.createElement(U.a,{color:"inherit",rel:"noopener",href:e.author.html_url},e.author.login):"n/a"),r.a.createElement(se,{align:"left",style:ie},r.a.createElement(Q.a,{title:e.message},r.a.createElement(U.a,{color:"inherit",rel:"noopener",href:"https://github.com/NeKzor/lp/commit/"+e.sha},e.sha))))})))),r.a.createElement(me,null),r.a.createElement(N.a,{variant:"h5"},"Theme Settings"),r.a.createElement("br",null),r.a.createElement(W.a,{row:!0},r.a.createElement(q.a,{control:r.a.createElement(Y.a,{checked:l.enabled,onChange:function(){o({action:"toggleDarkMode"})},color:"primary"}),label:"Dark Mode"})),r.a.createElement(me,null),r.a.createElement(Q.a,{title:"Source Code"},r.a.createElement(U.a,{rel:"noopener",href:"https://github.com/NeKzor/lp"},"github.com/NeKzor/lp"))))))},de=a(211),pe=a(202),Ee=a(210),fe=a(217),he=function(e,t,a){var n=function(e,t){return t[a]<e[a]?-1:t[a]>e[a]?1:0},r="desc"===t?function(e,t){return n(e,t)}:function(e,t){return-n(e,t)};return e.map(function(e,t){return[e,t]}).sort(function(e,t){var a=r(e[0],t[0]);return 0!==a?a:e[1]-t[1]}).map(function(e){return e[0]})},be=a(214),ge=a(199),ye=a(200),ve=a(201),xe=Object(E.a)(function(e){return{card:{margin:e.spacing(2)},media:{height:190}}}),ke=function(e){var t,a=e.data,n=xe(),l=r.a.createElement(be.a,{alt:a.player.name,src:a.player.avatar},a.player.avatar?void 0:a.player.name[0]);return r.a.createElement(ge.a,{className:n.card},r.a.createElement(ye.a,{avatar:l,title:a.player.name,subheader:a.date}),r.a.createElement(Q.a,{title:"Watch on YouTube",onClick:(t=a.media,function(){window.open("https://youtu.be/".concat(t),"_blank").opener=null}),style:{cursor:"pointer"},placement:"top",enterDelay:1e3,disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(ve.a,{className:n.media,image:"https://i.ytimg.com/vi/".concat(a.media.split("?")[0],"/sddefault.jpg")})))},we=[{id:"index",numeric:!1,sortable:!0,label:"Map"},{id:"wr",numeric:!0,sortable:!0,label:"Portals"},{id:"ties",numeric:!0,sortable:!0,label:"Ties"}],Oe=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return r.a.createElement(V.a,null,r.a.createElement($.a,null,we.map(function(e){return r.a.createElement(J.a,{key:e.id,align:e.numeric?"center":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},!0===e.sortable&&r.a.createElement(Q.a,{title:"Sort",placement:e.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(fe.a,{active:a===e.id,direction:t,onClick:(l=e.id,function(e){n(e,l)})},e.label)),!1===e.sortable&&e.label);var l},void 0)))},Ce=Object(E.a)(function(e){return{root:{overflowX:"auto"},helpLink:{cursor:"help"},showcase:{backgroundColor:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50],paddingBottom:0,paddingTop:0}}}),je=function(e){var t=e.data,a=r.a.useState({order:"asc",orderBy:"index",page:0,rowsPerPage:100}),n=Object(i.a)(a,2),l=n[0],o=n[1],c=r.a.useState(0),s=Object(i.a)(c,2),m=s[0],u=s[1],d=Ce(),p=function(){return r.a.createElement(Q.a,{placement:"right",title:"Disabled tracking records for this map.",disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(U.a,{className:d.helpLink},"n/a"))},E=l.order,f=l.orderBy;return r.a.createElement("div",{className:d.root},r.a.createElement(G.a,null,r.a.createElement(Oe,{order:E,orderBy:f,onRequestSort:function(e,t){var a=t,n="desc";l.orderBy===t&&"desc"===l.order&&(n="asc"),o({order:n,orderBy:a})},rowCount:t.length}),r.a.createElement(H.a,null,he(t,E,f).map(function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement($.a,{hover:!0,tabIndex:-1,onClick:(t=e.id,function(){u(m!==t?t:0)}),style:{cursor:"pointer"}},r.a.createElement(J.a,{size:"small"},r.a.createElement(U.a,{target:"_blank",rel:"noopener",color:"inherit",href:"https://steamcommunity.com/stats/Portal2/leaderboards/".concat(e.id)},e.name)),r.a.createElement(J.a,{size:"small",align:"center"},e.wr),r.a.createElement(J.a,{size:"small",align:"center"},!0===e.excluded?r.a.createElement(p,null):e.ties)),r.a.createElement($.a,null,r.a.createElement(J.a,{size:"small",className:d.showcase,colSpan:3,style:{border:e.id!==m?0:void 0}},r.a.createElement(pe.a,{in:e.id===m,timeout:"auto",unmountOnExit:!0},r.a.createElement(K.a,{container:!0},1===e.showcases.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{smDown:!0},r.a.createElement(K.a,{item:!0,md:2,lg:2})),r.a.createElement(K.a,{item:!0,xs:12,md:8,lg:8},r.a.createElement(ke,{data:e.showcases[0]}))),e.showcases.length>1&&e.showcases.map(function(e,t){return r.a.createElement(K.a,{key:t,item:!0,xs:12,md:6,lg:6},r.a.createElement(ke,{data:e}))}))))));var t}))))},Be=a(63),Se=a.n(Be),Te=a(102),Ne={plotOptions:{bar:{horizontal:!1,columnWidth:"100%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Portals"},max:12},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" portal"+(1===e?"":"s")}}}},Fe=function(e){var t=e.data,a=e.mode,n=e.title,l=e.color,o=t.filter(function(e){return e.mode===a}).sort(function(e,t){return e.index-t.index}),c=[{name:"World Record",data:o.map(function(e){return e.wr})}],i=Object(Te.a)(),s=Object(Z.a)({},Ne,{xaxis:{categories:o.map(function(e){return e.name}),labels:{show:!1}},title:{text:n,align:"center",offsetY:10,style:{fontSize:24}},colors:[l],chart:{background:"dark"===i.palette.type?i.palette.grey[800]:i.palette.common.white},theme:{mode:i.palette.type}});return r.a.createElement(Se.a,{options:s,series:c,type:"bar",height:"350"})},Le=Object(E.a)(function(e){return{searchBox:{padding:10,marginBottom:e.spacing(3)}}}),Pe=function(){var e=r.a.useContext(re).state.records,t=r.a.useState(""),a=Object(i.a)(t,2),n=a[0],l=a[1],o=Le();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:3}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:6},r.a.createElement(X.a,{style:{paddingTop:"5px",marginBottom:"24px"}},r.a.createElement(Fe,{data:e,mode:1,title:"Single Player",color:"#2E93fA"})),r.a.createElement(X.a,{style:{paddingTop:"5px",marginBottom:"24px"}},r.a.createElement(Fe,{data:e,mode:2,title:"Cooperative",color:"#FF9800"})),r.a.createElement(X.a,{className:o.searchBox},r.a.createElement(W.a,null,r.a.createElement(de.a,{placeholder:"Search",onChange:function(e){l(e.target.value)},disableUnderline:!0}))),r.a.createElement(X.a,{style:{marginBottom:"50px"}},r.a.createElement(je,{data:function(e){return e.filter(function(e){return 0===n.length||e.name.toUpperCase().startsWith(n.toUpperCase())||e.wr===parseInt(n)})}(e)})))))},ze=a(64),Re=a.n(ze),_e=a(204),De=a(98),Ae=a.n(De),Me=a(203),Ie=a(205),qe=[{id:"index",numeric:!1,sortable:!0,label:"Map"},{id:"score",numeric:!0,sortable:!0,label:"Portals"},{id:"delta",numeric:!0,sortable:!0,label:"\u0394WR"}],We=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return r.a.createElement(V.a,null,r.a.createElement($.a,null,qe.map(function(e){return r.a.createElement(J.a,{key:e.id,align:(e.numeric,"center"),padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},!0===e.sortable&&r.a.createElement(Q.a,{title:"Sort",placement:e.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(fe.a,{active:a===e.id,direction:t,onClick:(l=e.id,function(e){n(e,l)})},e.label)),!1===e.sortable&&e.label);var l},void 0)))},Ke=Object(E.a)(function(){return{root:{overflowX:"auto"}}}),Ue=function(e){var t=e.data,a=r.a.useState({order:"asc",orderBy:"index"}),n=Object(i.a)(a,2),l=n[0],o=n[1],c=Ke(),s=l.order,m=l.orderBy,u=function(){return r.a.createElement(Q.a,{placement:"right",title:"Unknown score.",disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(U.a,{style:{cursor:"help"}},"n/a"))};return r.a.createElement("div",{className:c.root},r.a.createElement(G.a,null,r.a.createElement(We,{order:s,orderBy:m,onRequestSort:function(e,t){var a=t,n="desc";l.orderBy===t&&"desc"===l.order&&(n="asc"),o({order:n,orderBy:a})},rowCount:t.length}),r.a.createElement(H.a,null,he(t,s,m).map(function(e){var t=void 0!==e.score?e.showcase?r.a.createElement(Q.a,{placement:"right",title:"Watch on YouTube",disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(U.a,{target:"_blank",rel:"noopener",href:"https://youtu.be/".concat(e.showcase.media)},r.a.createElement("b",null,e.score))):e.score:r.a.createElement(u,null),a=void 0!==e.score?0===e.delta?"":"+".concat(e.delta):r.a.createElement(u,null);return r.a.createElement($.a,{hover:!0,tabIndex:-1,key:e._id},r.a.createElement(J.a,{size:"small",align:"center"},r.a.createElement(U.a,{target:"_blank",rel:"noopener",color:"inherit",href:"https://steamcommunity.com/stats/Portal2/leaderboards/".concat(e._id)},e.name)),r.a.createElement(J.a,{size:"small",align:"center"},t),r.a.createElement(J.a,{size:"small",align:"center"},a))}))))},Xe=a(187),Ye={plotOptions:{bar:{horizontal:!1,columnWidth:"100%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Portals"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" portal"+(1===e?"":"s")}}}},Ge=function(e){var t=e.data,a=e.mode,n=e.title,l=e.color,o=t.filter(function(e){return e.mode===a}).sort(function(e,t){return e.index-t.index}),i=Math.max.apply(Math,[1].concat(Object(c.a)(o.map(function(e){return e.score})))),s=[{name:"WR Delta",data:o.map(function(e){return e.delta})}],m=Object(Te.a)(),u=Object(Z.a)({},Ye,{xaxis:{categories:o.map(function(e){return e.name}),labels:{show:!1}},yaxis:Object(Z.a)({},Ye.yaxis,{max:i+i%2,tickAmount:(i+i%2)/2}),title:{text:n,align:"center",offsetY:10,style:{fontSize:24}},colors:[l],chart:{background:"dark"===m.palette.type?m.palette.grey[800]:m.palette.common.white},theme:{mode:m.palette.type}});return r.a.createElement(Se.a,{options:u,series:s,type:"bar",height:"350"})},He=Object(E.a)(function(e){return{stats:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3),background:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50]},records:{paddingTop:e.spacing(3),background:"dark"===e.palette.type?e.palette.grey.A400:e.palette.grey[50]},flex:{flex:1},paper:{padding:e.spacing(5),textAlign:"center"}}}),Je=r.a.forwardRef(function(e,t){return r.a.createElement(Xe.a,Object.assign({direction:"up"},e,{ref:t}))}),Ve=function(e){var t=e.title,a=e.type,n=e.data,l=n[a],o=n[a+"Old"],c=n.stats[a].delta,i=n.stats[a].percentage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{placement:"top",title:0===l?"":r.a.createElement("div",null,"".concat(l-c,"+").concat(c),l!==o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),o+" \ud83e\udc0a "+l)),disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(N.a,{variant:"h3",gutterBottom:!0},0!==i?i:0,"%")),r.a.createElement(N.a,{variant:"subtitle1",gutterBottom:!0},t))},$e=function(e){var t=e.active,a=e.profile,n=e.handleClickClose,l=He();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{fullScreen:!0,open:t,onClose:n,TransitionComponent:Je},r.a.createElement(v.a,{position:"sticky"},r.a.createElement(T.a,null,r.a.createElement(Q.a,{placement:"bottom",title:"Open Steam profile",disableFocusListener:!0,disableTouchListener:!0},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{color:"inherit",onClick:function(){return e=a._id,void(window.open("https://steamcommunity.com/profiles/".concat(e),"_blank").opener=null);var e}},r.a.createElement(be.a,{src:a.avatar})),r.a.createElement(N.a,{variant:"h6",color:"inherit",className:l.flex},"\xa0\xa0\xa0",a.name,a.country&&r.a.createElement(r.a.Fragment,null,"\xa0\xa0\xa0",r.a.createElement(Re.a,{code:a.country,style:{position:"relative",top:"2px"},height:"15",alt:a.country})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{variant:"circle",width:40,height:40}),r.a.createElement(Ie.a,{style:{marginLeft:"10px"},variant:"text",width:200}),r.a.createElement(N.a,{className:l.flex}))),r.a.createElement(Q.a,{placement:"bottom",title:"Close profile",disableFocusListener:!0,disableTouchListener:!0},r.a.createElement(w.a,{color:"inherit",onClick:n},r.a.createElement(Ae.a,null))))),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{container:!0,className:l.stats},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:3}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:6},0!==a.entries.length&&r.a.createElement(K.a,{container:!0,spacing:10},r.a.createElement(K.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(X.a,{className:l.paper},r.a.createElement(Ve,{title:"Single Player",type:"sp",data:a}))),r.a.createElement(K.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(X.a,{className:l.paper},r.a.createElement(Ve,{title:"Cooperative",type:"mp",data:a}))),r.a.createElement(K.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(X.a,{className:l.paper},r.a.createElement(Ve,{title:"Overall",type:"overall",data:a})))))),r.a.createElement(K.a,{container:!0,className:l.records},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:3}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:6},r.a.createElement(X.a,{style:{marginBottom:"50px"}},r.a.createElement(Ue,{data:a.entries})),r.a.createElement(X.a,{style:{paddingTop:"10px",marginBottom:"50px"}},r.a.createElement(Ge,{data:a.entries,mode:1,title:"Single Player",color:"#2E93fA"})),r.a.createElement(X.a,{style:{paddingTop:"10px",marginBottom:"50px"}},r.a.createElement(Ge,{data:a.entries,mode:2,title:"Cooperative",color:"#FF9800"}))))):void 0===a?r.a.createElement(d.a,null):r.a.createElement(K.a,{style:{height:"100%"},container:!0,className:l.records},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:2}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:9},r.a.createElement(X.a,null,r.a.createElement(N.a,{variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},"Profile not found :("))))))},Qe=a(53),Ze=a(66),et=a(99);Qe.b.add(et.a);var tt=[{id:"rank",numeric:!0,sortable:!1,label:"Rank"},{id:"name",numeric:!1,sortable:!1,label:"Player"},{id:"score",numeric:!0,sortable:!0,label:"Portals"}],at=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;return r.a.createElement(V.a,null,r.a.createElement($.a,null,tt.map(function(e){return r.a.createElement(J.a,{key:e.id,align:e.numeric?"center":"left",sortDirection:a===e.id&&t},!0===e.sortable&&r.a.createElement(Q.a,{title:"Sort",placement:e.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(fe.a,{active:a===e.id,direction:t,onClick:(l=e.id,function(e){n(e,l)})},e.label)),!1===e.sortable&&e.label);var l})))},nt=Object(E.a)(function(){return{root:{overflowX:"auto"},playerCell:{display:"flex",alignItems:"center"},clickLink:{cursor:"pointer"}}}),rt=function(e){var t=e.data,a=e.handleClickOpen,n=r.a.useState({order:"asc",orderBy:"score"}),l=Object(i.a)(n,2),o=l[0],c=l[1],s=nt(),m=o.order,u=o.orderBy;return r.a.createElement("div",{className:s.root},r.a.createElement(G.a,null,r.a.createElement(at,{order:m,orderBy:u,onRequestSort:function(e,t){var a=t,n="desc";o.orderBy===t&&"desc"===o.order&&(n="asc"),c({order:n,orderBy:a})},rowCount:t.length}),r.a.createElement(H.a,null,he(t,m,u).map(function(e){return r.a.createElement($.a,{hover:!0,tabIndex:-1,key:e._id},r.a.createElement(J.a,{size:"small",align:"center"},1===e.rank?r.a.createElement(Ze.a,{title:"Rank 1",icon:"medal",color:"#ffd700"}):2===e.rank?r.a.createElement(Ze.a,{title:"Rank 2",icon:"medal",color:"#C0C0C0"}):3===e.rank?r.a.createElement(Ze.a,{title:"Rank 3",icon:"medal",color:"#cd7f32"}):e.rank),r.a.createElement(J.a,{size:"small"},r.a.createElement("div",{className:s.playerCell},r.a.createElement(be.a,{src:e.avatar}),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(U.a,{className:s.clickLink,onClick:a(e._id),color:"inherit"},e.name),e.country&&r.a.createElement(r.a.Fragment,null,"\xa0\xa0\xa0",r.a.createElement(Re.a,{code:e.country,height:"12",alt:e.country})))),r.a.createElement(J.a,{size:"small",align:"center"},r.a.createElement(Q.a,{placement:"top",title:r.a.createElement("div",null,"".concat(e.stats.percentage,"% (").concat(e.score-e.stats.delta,"+").concat(e.stats.delta,")"),e.scoreOld!==e.score&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),e.scoreOld+" \ud83e\udc0a "+e.score)),disableFocusListener:!0,disableTouchListener:!0},r.a.createElement("div",null,e.score))))}))))},lt=a(28),ot=a.n(lt),ct=a(54),it=new(function(){function e(){Object(ee.a)(this,e),this.baseApi="https://raw.githubusercontent.com/NeKzor/lp/api"}return Object(te.a)(e,[{key:"request",value:function(){var e=Object(ct.a)(ot.a.mark(function e(t){var a;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,console.log("[GET] ".concat(t," (").concat(a.status,")")),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecords",value:function(){var e=Object(ct.a)(ot.a.mark(function e(){var t;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("".concat(this.baseApi,"/records.json"));case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent.data,e.next=10;break;case 9:e.t0={};case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBoard",value:function(){var e=Object(ct.a)(ot.a.mark(function e(t){var a;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("sp"===t||"mp"===t||"overall"===t){e.next=2;break}throw new Error("Invalid board!");case 2:return e.next=4,this.request("".concat(this.baseApi,"/").concat(t,".json"));case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent.data,e.next=12;break;case 11:e.t0={};case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(ct.a)(ot.a.mark(function e(t){var a;return ot.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("".concat(this.baseApi,"/profile/").concat(t,".json"));case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:e.t0=e.sent.data,e.next=10;break;case 9:e.t0=null;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),st=function(e){var t=e.boardType,a=e.profileId,n=le(),l=r.a.useState([]),o=Object(i.a)(l,2),c=o[0],s=o[1],m=r.a.useState(void 0),u=Object(i.a)(m,2),p=u[0],E=u[1],f=r.a.useState(!1),h=Object(i.a)(f,2),b=h[0],g=h[1],y=r.a.useContext(re).state.records,v=function(e){if(e){var t;e.entries.forEach(function(t){var a=y.find(function(e){return e.id===t._id});t.name=a.name,t.index=a.index,t.delta=Math.abs(a.wr-t.score),t.showcase=a.showcases.find(function(t){return t.player.id===e._id||t.player2&&t.player2.id===e._id})});var a=[];y.forEach(function(t){e.entries.find(function(e){return e._id===t.id})||a.push({_id:t.id,name:t.name,index:t.index})}),(t=e.entries).push.apply(t,a)}return e};r.a.useEffect(function(){void 0===p&&a?(g(!0),it.getProfile(a).then(function(e){return n.current&&E(v(e))}).catch(function(e){return console.error(e)})):0===c.length&&it.getBoard(t).then(function(e){return n.current&&s(e)}).catch(function(e){return console.error(e)})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:3}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:6},r.a.createElement(X.a,{style:{marginBottom:"50px"}},0===c.length&&r.a.createElement(d.a,null),r.a.createElement(rt,{data:c,handleClickOpen:function(e){return function(){g(!0),it.getProfile(e).then(function(e){return n.current&&E(v(e))}).catch(function(e){return console.error(e)})}}})))),r.a.createElement($e,{active:b,profile:p,handleClickClose:function(){g(!1),0===c.length&&it.getBoard(t).then(function(e){return n.current&&s(e)}).catch(function(e){return console.error(e)})}}))},mt=function(){return r.a.createElement(K.a,{container:!0},r.a.createElement(K.a,{item:!0,xs:!1,md:1,lg:2}),r.a.createElement(K.a,{item:!0,xs:12,md:10,lg:9},r.a.createElement(X.a,null,r.a.createElement(N.a,{variant:"h5",gutterBottom:!0,style:{padding:"50px 0px 50px 50px"}},"Page not found :("))))},ut=Object(E.a)(function(e){return{views:{marginTop:e.spacing(3)}}}),dt=function(){var e=r.a.useReducer.apply(r.a,Object(c.a)(ne)),t=Object(i.a)(e,2),a=t[0],n=t[1];r.a.useEffect(function(){it.getRecords().then(function(e){return n({action:"setRecords",data:e})}).catch(function(e){return console.error(e)})},[]);var l=r.a.useMemo(function(){return Object(f.a)({palette:{primary:{light:y.a[300],main:y.a[500],dark:y.a[700]},secondary:{light:"#fff",main:"#fff",dark:"#fff"},error:{main:b.a.A400},type:a.darkMode.enabled?"dark":"light"},typography:{useNextVariants:!0}})},[a.darkMode.enabled]),o=ut(),E=r.a.useMemo(function(){return{state:a,dispatch:n}},[a,n]),h=["/single-player","/cooperative","/overall","/records","/about"];return r.a.createElement(p.a,{theme:l},r.a.createElement(u.a,null),r.a.createElement(re.Provider,{value:E},r.a.createElement(s.a,{basename:"/lp"},r.a.createElement(m.b,{path:"/",render:function(e){var t=e.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{currentTab:h.findIndex(function(e){return e===t})}),0!==a.records.length?r.a.createElement("div",{className:o.views},r.a.createElement(m.d,null,r.a.createElement(m.a,{exact:!0,from:"/",to:"/single-player"}),r.a.createElement(m.a,{exact:!0,from:"/sp",to:"/single-player"}),r.a.createElement(m.a,{exact:!0,from:"/mp",to:"/cooperative"}),r.a.createElement(m.a,{exact:!0,from:"/coop",to:"/cooperative"}),r.a.createElement(m.a,{exact:!0,from:"/ov",to:"/overall"}),r.a.createElement(m.a,{exact:!0,from:"/wrs",to:"/records"}),r.a.createElement(m.b,{exact:!0,path:"/single-player",component:function(){return r.a.createElement(st,{boardType:"sp"})}}),r.a.createElement(m.b,{exact:!0,path:"/cooperative",component:function(){return r.a.createElement(st,{boardType:"mp"})}}),r.a.createElement(m.b,{exact:!0,path:"/overall",component:function(){return r.a.createElement(st,{boardType:"overall"})}}),r.a.createElement(m.b,{exact:!0,path:"/records",component:Pe}),r.a.createElement(m.b,{exact:!0,path:"/about",component:ue}),r.a.createElement(m.b,{exact:!0,from:"/@/:id",component:function(e){var t=e.match.params;return r.a.createElement(st,{boardType:"sp",profileId:t.id})}}),r.a.createElement(m.b,{component:mt}))):r.a.createElement(d.a,null))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(dt,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.b130a7e1.chunk.js.map